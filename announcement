<img src="x" onerror="
  (function() {
    let isFetching = false; // Lock to prevent multiple requests

    const fetchPlayCount = () => {
      if (isFetching) return; // Skip if a request is already in progress
      isFetching = true; // Lock

      const timestamp = new Date().getTime(); // Unique cache-busting parameter
      const url = 'https://api.allorigins.win/get?url=' + encodeURIComponent('https://www.wildwest.gg/api/users/hypoor') + '&_=' + timestamp;

      fetch(url)
        .then(response => response.json())
        .then(data => {
          const userData = JSON.parse(data.contents);
          const game = userData.data.games.find(g => g.id === '69ea5b13-c66a-4cfa-9714-f120ae6810b9');
          if (game) {
            const playCount = game.play_count;
            const announcement = document.querySelector('#global-announcement');
            if (announcement) {
              announcement.textContent = `There is currently${playCount} current plays. lets get to 100k! (updates live)`;
            }
          }
        })
        .catch(console.error)
        .finally(() => {
          isFetching = false; // Unlock after the request completes
        });
    };

    fetchPlayCount();
  })()
">
